<!-- ...HTML y CSS igual que antes, sin cambios importantes en estilos -->

<!-- Empresas -->
<div class="empresas">
  <h3>Empresas con las que trabajamos</h3>
  <div class="logos-wrapper" style="overflow:hidden;">
    <div class="logos">
      <!-- Repite logos varias veces para efecto continuo -->
      <img src="https://www.publimark.cl/contenidos/img/2022/02/Agrosuper-logo-antes-Publimark.jpg">
      <img src="https://www.superpollo.cl//img/pollitoLogo1990.webp">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLC4xu-bKwfR-MBNSuaXGWXfAUikOEMRbwVA&s">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSaibLO9D-fmYwY3cGK8ve9GmWNMcqHypsFYw&s">
      <!-- Repetidos para scroll -->
      <img src="https://www.publimark.cl/contenidos/img/2022/02/Agrosuper-logo-antes-Publimark.jpg">
      <img src="https://www.superpollo.cl//img/pollitoLogo1990.webp">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLC4xu-bKwfR-MBNSuaXGWXfAUikOEMRbwVA&s">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSaibLO9D-fmYwY3cGK8ve9GmWNMcqHypsFYw&s">
    </div>
  </div>
</div>

<script>
  // Manejo de tabs
  const tabs = document.querySelectorAll('.tab-btn');
  const contents = document.querySelectorAll('.tab-content');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      contents.forEach(c => c.classList.remove('active'));
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });

  // Carrito
  let cart = [];

  const productsGrid = document.getElementById('products-grid');
  const cartCount = document.getElementById('cart-count');
  const cartTotal = document.getElementById('cart-total');
  const cartItemsDiv = document.getElementById('cart-items');
  const cartList = document.getElementById('cart-list');

  function renderProducts() {
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${p.image}" class="product-image">
        <h4>${p.name}</h4>
        <p>${p.description}</p>
        <p><strong>$${p.price}</strong></p>
        <button onclick="addToCart(${p.id})">Agregar al carrito</button>
      `;
      productsGrid.appendChild(card);
    });
  }

  function addToCart(id) {
    const product = products.find(p => p.id === id);
    cart.push(product);
    updateCart();
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    updateCart();
  }

  function clearCart() {
    cart = [];
    updateCart();
  }

  function updateCart() {
    cartCount.textContent = cart.length;
    cartTotal.textContent = cart.reduce((sum, p) => sum + p.price, 0);
    if(cart.length > 0){
      cartItemsDiv.style.display = 'block';
      cartList.innerHTML = '';
      cart.forEach((p,i) => {
        const item = document.createElement('div');
        item.innerHTML = `${p.name} - $${p.price} <button class="remove-btn" onclick="removeFromCart(${i})">X</button>`;
        cartList.appendChild(item);
      });
    } else {
      cartItemsDiv.style.display = 'none';
    }
  }

  function switchTab(tabName) {
    tabs.forEach(t => t.classList.remove('active'));
    contents.forEach(c => c.classList.remove('active'));
    document.querySelector(`.tab-btn[data-tab="${tabName}"]`).classList.add('active');
    document.getElementById(tabName).classList.add('active');

    // Si vamos a checkout, generar resumen
    if(tabName === 'checkout') {
      const summary = document.getElementById('checkout-summary');
      summary.innerHTML = '';
      cart.forEach(p => {
        const div = document.createElement('div');
        div.textContent = `${p.name} - $${p.price}`;
        summary.appendChild(div);
      });
      const totalDiv = document.createElement('div');
      totalDiv.style.fontWeight='bold';
      totalDiv.style.marginTop='10px';
      totalDiv.textContent = `Total: $${cart.reduce((sum,p)=>sum+p.price,0)}`;
      summary.appendChild(totalDiv);
    }
  }

  renderProducts();
</script>
